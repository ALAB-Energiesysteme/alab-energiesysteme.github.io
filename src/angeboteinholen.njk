---
layout: base.njk
permalink: "/angebot-einholen/"
title: "PV-Angebot einholen | ALAB Energiesysteme"
description: "Ihr individuelles PV-Angebot …"
robots: "index,follow"
---

<style>
  /* Seite scoped auf #alab-offer */
  #alab-offer, #alab-offer * { box-sizing: border-box; }
  #alab-offer{
    /* an ALAB-Farben angelehnt */
    --ink:#0f2533; --muted:#5b6b78; --line:#e6edf5; --card:#fff; --bg:#f8fafc;
    --brand1:#2b6cb0;        /* Header-Blau */
    --brand2:#8FB78F;        /* Footer-Grün */
    --accent:#d4af37;        /* Gold */
    --shadow:0 4px 6px -1px rgb(0 0 0 / .1),0 2px 4px -2px rgb(0 0 0 /.1);
    --radius:12px;
    font-family: Montserrat, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    color:var(--ink); background:var(--bg);
  }
  #alab-offer .ao-wrap{max-width:1200px;margin:0 auto;padding:48px 24px}
  #alab-offer .ao-card{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow)}
  #alab-offer .ao-btn{appearance:none;border:0;border-radius:8px;cursor:pointer;font-weight:700;font-size:16px;transition:.2s;display:inline-flex;align-items:center;justify-content:center;text-decoration:none}
  #alab-offer .ao-btn--primary{background:var(--brand1);color:#fff;padding:12px 24px}
  #alab-offer .ao-btn--primary:hover{filter:brightness(.95)}
  #alab-offer .ao-btn--ghost{background:#fff;border:1px solid var(--line);padding:12px 24px;color:var(--ink)}
  #alab-offer .ao-btn--ghost:hover{background:#f3f6fa}
  #alab-offer .ao-grid{display:grid;gap:24px}
  @media (min-width:1024px){
  #alab-offer .ao-grid-main{ grid-template-columns: 7fr 5fr;grid-template-columns:7fr 5fr}}
  /* Hero */
  #alab-offer .ao-hero{position:relative;display:flex;align-items:center;min-height:450px;padding:48px;margin-bottom:48px;border-radius:var(--radius);overflow:hidden;color:#fff}
  #alab-offer .ao-hero::after{content:"";position:absolute;inset:0;background:linear-gradient(90deg,rgba(16,24,39,.85),rgba(16,24,39,.35));z-index:1}
  #alab-offer .ao-hero-text{position:relative;z-index:2;max-width:580px}
  #alab-offer .ao-hero h1{font-size:clamp(32px,4vw,46px);line-height:1.12;margin:0 0 16px;font-weight:800}
  #alab-offer .ao-hero p{margin:0 0 24px;color:#e6edf5;font-size:18px}
  #alab-offer .ao-usp{display:flex;flex-wrap:wrap;gap:12px 16px;margin-bottom:20px}
  #alab-offer .ao-usp .i{display:flex;align-items:center;gap:8px;font-size:14px;background:rgba(255,255,255,.12);padding:6px 10px;border-radius:999px}
  #alab-offer .ao-usp .i svg{width:18px;height:18px;color:var(--accent)}
  #alab-offer .ao-hero-image{position:absolute;inset:0;z-index:0}
  #alab-offer .ao-hero-image img{width:100%;height:100%;object-fit:cover;object-position:center bottom;transition:opacity .3s}
  @media(max-width:959px){
    #alab-offer .ao-hero{padding:32px 24px;text-align:center;justify-content:center;min-height:400px}
    #alab-offer .ao-usp{justify-content:center}
    #alab-offer .ao-hero::after{background:rgba(16,24,39,.7)}
    #alab-offer .ao-hero-text .ao-btn{width:100%;max-width:300px}
  }
  /* Segmente */
  #alab-offer .ao-seg h2{font-size:20px;margin:0 0 16px;font-weight:700}
  #alab-offer .ao-seg-grid{display:grid;gap:20px;grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}
  #alab-offer .ao-seg .card input{position:absolute;opacity:0;width:0;height:0}
  #alab-offer .ao-seg .card label{display:block;padding:18px;cursor:pointer;border:2px solid var(--line);border-radius:var(--radius)}
  #alab-offer .ao-seg .card input:checked + label{border-color:var(--brand1);background:#eef6ff;box-shadow:0 0 0 3px rgba(43,108,176,.25)}
  /* Stepper + Form */
  #alab-offer .ao-stepper{display:flex;align-items:center;gap:8px;margin-bottom:24px;flex-wrap:wrap}
  #alab-offer .ao-step{display:flex;align-items:center;gap:8px;padding:4px 12px;border-radius:999px;background:var(--line);color:var(--muted);font-size:14px;font-weight:600}
  #alab-offer .ao-step.is-active{background:var(--brand1);color:#fff}
  #alab-offer .ao-step .num{display:grid;place-items:center;width:20px;height:20px;border-radius:50%;background:#fff;color:var(--brand1);font-size:12px;font-weight:700}
  #alab-offer .ao-step.is-active .num{background:rgba(255,255,255,.25);color:#fff}
  #alab-offer .ao-form-card{padding:24px}
  #alab-offer .ao-form .form-grid{display:grid;gap:18px}
@media (min-width: 768px) {
  #alab-offer .ao-form .form-grid-2 { grid-template-columns: 1fr 1fr; }
}
  #alab-offer .ao-form label{display:block;font-size:14px;font-weight:600;color:#334155;margin-bottom:6px}
  #alab-offer .ao-form input[type="text"],
  #alab-offer .ao-form input[type="email"],
  #alab-offer .ao-form input[type="tel"],
  #alab-offer .ao-form input[type="number"],
  #alab-offer .ao-form select,
  #alab-offer .ao-form textarea{width:100%;height:44px;border:1px solid #d1d9e6;border-radius:8px;padding:10px 12px;background:#fff;color:var(--ink);font:inherit;font-size:16px;transition:.2s}
  #alab-offer .ao-form textarea{height:90px;resize:vertical}
  #alab-offer .ao-form :is(input,select,textarea):focus-visible{border-color:var(--brand1);outline:2px solid var(--brand1);outline-offset:0;box-shadow:0 0 0 2px rgba(43,108,176,.18)}
  #alab-offer .err{color:#dc2626;font-size:13px;margin-top:6px;display:none}
  #alab-offer .field.has-error .err{display:block}
  #alab-offer .field.has-error :is(input,select,textarea){border-color:#ef4444;background:#fef2f2}
  #alab-offer .form-actions{display:flex;gap:12px;margin-top:24px}
  /* Sidebar */
  #alab-offer .ao-rail{position:sticky;top:24px}
  #alab-offer .ao-rail .trust-card{padding:24px;text-align:center}
  #alab-offer .ao-rail .trust-card img{display:block;max-width:120px;margin:0 auto 14px}
  #alab-offer .ao-rail .stars{color:#facc15}
  #alab-offer .ao-muted{color:var(--muted);font-size:14px}
  #alab-offer details{border-bottom:1px solid var(--line);padding:16px 0}
  #alab-offer details:first-of-type{border-top:1px solid var(--line)}
  #alab-offer summary{cursor:pointer;font-weight:700;display:flex;justify-content:space-between;align-items:center;list-style:none}
  #alab-offer summary::-webkit-details-marker{display:none}
  #alab-offer summary::after{content:'+';font-size:24px;transition:.2s}
  #alab-offer details[open] summary::after{transform:rotate(45deg)}
  #alab-offer .hide{display:none!important}
  #alab-offer .sr-only {position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
.site-header { position: sticky; top: 0; z-index: 2000; }
  /* Hinweis: dieser Selector blendet den Hero-CTA aus (so war’s in Wix).
     Wenn du den Button sichtbar willst, lösche diesen Block. */
  #alab-offer .ao-hero-text .ao-btn[data-ga-event="cta_start"]{visibility:hidden;pointer-events:none}

  /* =========================
   ALAB Gold-Theme Overrides
   (am Ende des <style>-Blocks einfügen)
   ========================= */
#alab-offer{
  /* Gold-Palette */
  --accent: #d4af37;          /* Gold (Akzent) */
  --brand1: #d4af37;          /* Primärfarbe jetzt Gold */
  --brand1-600: #c59d2a;      /* Hover/active */
  --brand1-700: #b38920;      /* dunklerer Goldton */
}

/* Primär-Button in Gold (mit leichtem Verlauf + Schatten) */
#alab-offer .ao-btn--primary{
  background: linear-gradient(180deg,#f2db82 0%,#d4af37 45%,#c59d2a 100%);
  color:#111;
  box-shadow: 0 8px 22px rgba(212,175,55,.35);
}
#alab-offer .ao-btn--primary:hover{
  transform: translateY(1px);
  filter:none;
}

/* Sekundär-Button dezente Gold-Kante beim Hover */
#alab-offer .ao-btn--ghost:hover{
  border-color: #e8d28a;
  background:#fffdf3;
}

/* Ausgewählte Karten (Segmentwahl) gold akzentuieren */
#alab-offer .ao-seg .card input:checked + label{
  border-color:#d4af37;
  background:#fffbe8;
  box-shadow:0 0 0 3px rgba(212,175,55,.28);
}

/* Stepper aktiv in Gold (gute Lesbarkeit auf dunkel) */
#alab-offer .ao-step.is-active{
  background:#d4af37;
  color:#111;
}
#alab-offer .ao-step.is-active .num{
  background:rgba(0,0,0,.06);
  color:#111;
}

/* Formular-Fokusrahmen in Gold */
#alab-offer .ao-form :is(input,select,textarea):focus-visible{
  border-color:#d4af37;
  outline-color:#d4af37;
  box-shadow:0 0 0 2px rgba(212,175,55,.25);
}

/* Icons/Details/Links konsistent in Gold */
#alab-offer .ao-usp .i svg{ color:#d4af37; }
#alab-offer details{ border-color:#efe2b4; }
#alab-offer summary::after{ color:#b38920; }
#alab-offer .ao-rail .stars{ color:#d4af37; }
#alab-offer .ao-muted a{ color:#a27f1a; text-decoration: underline; }
</style>

<style>
  /* Erzwingt die Umschaltung nur auf dieser Seite */
  @media (max-width:1024px){
    body #header-desktop { display:none !important; }
    body #header-mobile  { display:block !important; }
  }
</style>

<section id="alab-offer" aria-labelledby="offer-heading">
  <div class="ao-wrap">

    <!-- Hero -->
    <div class="ao-hero">
      <div class="ao-hero-text">
        <h1 id="offer-heading">Ihr individuelles PV-Angebot <span class="sr-only">für Mindelheim & Unterallgäu</span></h1>
        <p>Schnell, transparent und professionell vom regionalen Fachbetrieb. Für Privat & Gewerbe – optional mit Speicher, Wallbox und Notstrom. Planung & Montage aus einer Hand.</p>
        <div class="ao-usp">
          <div class="i"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>Ingenieurbüro</div>
          <div class="i"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>Transparent & fair</div>
          <div class="i"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>Gewerbe & Privat</div>
          <div class="i"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>Optional Notstrom</div>
        </div>
        <a href="#ao-form-anchor" class="ao-btn ao-btn--primary" style="max-width:300px" data-ga-event="cta_start">Direkt zum Angebot</a>
      </div>
      <div class="ao-hero-image">
        <img src="https://static.wixstatic.com/media/cac2b9_2e17ae1b597142d5b302be69dcf0a2e4~mv2.png" alt="Moderne Photovoltaikanlage auf einem Hausdach">
      </div>
    </div>

    <!-- Segment -->
    <section class="ao-seg" aria-labelledby="segment-heading">
      <h2 id="segment-heading">Für wen ist das Angebot gedacht?</h2>
      <div class="ao-seg-grid">
        <div class="ao-card card">
          <input type="radio" name="kundentyp" value="privat" id="type-privat" checked>
          <label for="type-privat"><strong>Privat</strong><div class="ao-muted">Eigenheim / Mehrfamilienhaus</div></label>
        </div>
        <div class="ao-card card">
          <input type="radio" name="kundentyp" value="gewerbe" id="type-gewerbe">
          <label for="type-gewerbe"><strong>Gewerbe</strong><div class="ao-muted">Halle, Büro, Produktion</div></label>
        </div>
      </div>
    </section>

    <div style="height:48px"></div>

    <div class="ao-grid ao-grid-main" id="ao-form-anchor">
      <div>
        <!-- PRIVAT -->
        <div id="form-wrapper-privat">
          <div class="ao-form-card ao-card">
            <div class="ao-stepper" role="tablist" aria-label="Fortschritt der Anfrage">
              <div class="ao-step is-active" data-step-dot="1"><span class="num">1</span> <span class="text">Objekt</span></div>
              <div class="ao-step" data-step-dot="2"><span class="num">2</span> <span class="text">Bedarf</span></div>
              <div class="ao-step" data-step-dot="3"><span class="num">3</span> <span class="text">Details</span></div>
              <div class="ao-step" data-step-dot="4"><span class="num">4</span> <span class="text">Kontakt</span></div>
            </div>
<form class="ao-form" id="alab-multi-step-form-privat" novalidate>
  <!-- Schritt 1: Standort & Objekt -->
  <fieldset data-step="1">
    <legend class="sr-only">Schritt 1: Standort & Objekt</legend>
    <div class="form-grid form-grid-2">
      <div class="field">
        <label for="plz-privat">PLZ*</label>
        <input id="plz-privat" name="plz" type="text" inputmode="numeric" placeholder="87719" required minlength="5" maxlength="5">
        <div class="err">Bitte gültige PLZ (5 Ziffern) angeben.</div>
      </div>
      <div class="field">
        <label for="ort-privat">Ort*</label>
        <input id="ort-privat" name="ort" type="text" placeholder="Mindelheim" required>
        <div class="err">Bitte Ort angeben.</div>
      </div>
      <div class="field" style="grid-column:1/-1">
        <label for="dachform-privat">Dachform*</label>
        <select id="dachform-privat" name="dachform" required>
          <option value="">Bitte wählen</option>
          <option>Satteldach</option><option>Pultdach</option>
          <option>Flachdach</option><option>Walmdach</option><option>Andere</option>
        </select>
        <div class="err">Bitte Dachform wählen.</div>
      </div>
    </div>
    <div class="form-actions">
      <button type="button" class="ao-btn ao-btn--primary" data-nav="next">Weiter zu Schritt 2</button>
    </div>
  </fieldset>

  <!-- Schritt 2: Bedarf -->
  <fieldset data-step="2" class="hide">
    <legend class="sr-only">Schritt 2: Bedarf</legend>
    <div class="form-grid form-grid-2">
      <div class="field">
        <label for="verbrauch-privat">Stromverbrauch/Jahr (kWh)*</label>
        <input id="verbrauch-privat" name="verbrauch" type="number" min="200" step="50" placeholder="4500" required>
        <div class="err">Bitte realistischen Wert eingeben.</div>
      </div>
      <div class="field">
        <label for="speicher-privat">Speicher gewünscht?*</label>
        <select id="speicher-privat" name="speicher" required>
          <option>Ja, bitte anbieten</option>
          <option>Nein, nicht benötigt</option>
          <option>Unsicher, bitte beraten</option>
        </select>
      </div>
      <div class="field" style="grid-column:1/-1">
        <label for="wallbox-privat">Wallbox für E-Auto? (optional)</label>
        <select id="wallbox-privat" name="wallbox">
          <option>Nein</option><option>Ja, 11 kW</option><option>Ja, 22 kW</option>
        </select>
      </div>
    </div>
    <div class="form-actions">
      <button type="button" class="ao-btn ao-btn--ghost" data-nav="back">Zurück</button>
      <button type="button" class="ao-btn ao-btn--primary" data-nav="next">Weiter zu Schritt 3</button>
    </div>
  </fieldset>

  <!-- Schritt 3: Details -->
  <fieldset data-step="3" class="hide">
    <legend class="sr-only">Schritt 3: Details</legend>
    <div class="form-grid form-grid-2">
      <div class="field" style="grid-column:1/-1">
        <label for="verschattung-privat">Verschattung (optional)</label>
        <select id="verschattung-privat" name="verschattung">
          <option>Keine oder kaum</option><option>Gering</option><option>Stärker</option>
        </select>
      </div>
      <div class="field" style="grid-column:1/-1">
        <label for="hinweis-privat">Hinweise (optional)</label>
        <textarea id="hinweis-privat" name="hinweis" placeholder="z. B. Dachsanierung geplant, gewünschte Hersteller …"></textarea>
      </div>
    </div>
    <div class="form-actions">
      <button type="button" class="ao-btn ao-btn--ghost" data-nav="back">Zurück</button>
      <button type="button" class="ao-btn ao-btn--primary" data-nav="next">Weiter zum letzten Schritt</button>
    </div>
  </fieldset>

  <!-- Schritt 4: Kontakt -->
  <fieldset data-step="4" class="hide">
    <legend class="sr-only">Schritt 4: Kontakt</legend>
    <div class="form-grid form-grid-2">
      <div class="field">
        <label for="name-privat">Ansprechpartner*</label>
        <input id="name-privat" name="name" type="text" required>
        <div class="err">Bitte Namen angeben.</div>
      </div>
      <div class="field">
        <label for="email-privat">E-Mail*</label>
        <input id="email-privat" name="email" type="email" required>
        <div class="err">Bitte gültige E-Mail angeben.</div>
      </div>
      <div class="field">
        <label for="tel-privat">Telefon (optional)</label>
        <input id="tel-privat" name="tel" type="tel">
      </div>
      <div class="field" style="grid-column:1/-1">
        <label style="display:flex;gap:8px;align-items:center;margin-top:12px">
          <input id="consent_contact-privat" name="consent_contact" type="checkbox" required style="width:auto;height:auto">
          <span>Ich stimme der Kontaktaufnahme per Telefon/E-Mail zur Angebotserstellung zu.*</span>
        </label>
        <div class="err" id="consent_err-privat">Bitte zustimmen.</div>
        <div class="ao-muted" style="margin-top:8px">
          Details in unserer <a href="/datenschutz/">Datenschutzerklärung</a>.
        </div>
      </div>
    </div>
    <div class="sr-only" aria-hidden="true">
      <label>Ihre Website</label><input name="website" type="text" autocomplete="off" tabindex="-1">
    </div>
    <div class="form-actions">
      <button type="button" class="ao-btn ao-btn--ghost" data-nav="back">Zurück</button>
      <button type="submit" class="ao-btn ao-btn--primary">Kostenloses Angebot anfordern</button>
    </div>
  </fieldset>
</form>


            <div class="ao-success hide" aria-live="polite">
              <h3 style="font-size:24px">Vielen Dank! 🎉</h3>
              <p class="ao-muted">Wir haben Ihre Anfrage erhalten und melden uns kurzfristig.</p>
              <p class="ao-muted"><strong>ALAB Energiesysteme, Mindelheim</strong></p>
            </div>
          </div>
        </div>

        <!-- GEWERBE -->
        <div id="form-wrapper-gewerbe" class="hide">
          <div class="ao-form-card ao-card">
            <div class="ao-stepper" role="tablist" aria-label="Fortschritt der Anfrage">
              <div class="ao-step is-active" data-step-dot="1"><span class="num">1</span> <span class="text">Objekt</span></div>
              <div class="ao-step" data-step-dot="2"><span class="num">2</span> <span class="text">Bedarf</span></div>
              <div class="ao-step" data-step-dot="3"><span class="num">3</span> <span class="text">Details</span></div>
              <div class="ao-step" data-step-dot="4"><span class="num">4</span> <span class="text">Kontakt</span></div>
            </div>

           <form class="ao-form" id="alab-multi-step-form-gewerbe" novalidate>
  <!-- Schritt 1: Standort & Objekt -->
  <fieldset data-step="1">
    <legend class="sr-only">Schritt 1: Standort & Objekt</legend>
    <div class="form-grid form-grid-2">
      <div class="field">
        <label for="plz-gewerbe">PLZ*</label>
        <input id="plz-gewerbe" name="plz" type="text" inputmode="numeric" placeholder="87719" required minlength="5" maxlength="5">
        <div class="err">Bitte gültige PLZ angeben.</div>
      </div>
      <div class="field">
        <label for="ort-gewerbe">Ort*</label>
        <input id="ort-gewerbe" name="ort" type="text" required>
        <div class="err">Bitte Ort angeben.</div>
      </div>
      <div class="field">
        <label for="gebaeudetyp-gewerbe">Objekttyp*</label>
        <select id="gebaeudetyp-gewerbe" name="gebaeudetyp" required>
          <option value="">Bitte wählen</option>
          <option>Halle/Produktion</option><option>Bürogebäude</option>
          <option>Landwirtschaft</option><option>Solarcarport / Freifläche</option><option>Sonstiges</option>
        </select>
        <div class="err">Bitte Objekttyp wählen.</div>
      </div>
      <div class="field">
        <label for="dachform-gewerbe">Dachform*</label>
        <select id="dachform-gewerbe" name="dachform" required>
          <option value="">Bitte wählen</option>
          <option>Flachdach</option><option>Satteldach</option><option>Pultdach</option><option>Andere</option>
        </select>
        <div class="err">Bitte Dachform wählen.</div>
      </div>
    </div>
    <div class="form-actions">
      <button type="button" class="ao-btn ao-btn--primary" data-nav="next">Weiter zu Schritt 2</button>
    </div>
  </fieldset>

  <!-- Schritt 2: Bedarf -->
  <fieldset data-step="2" class="hide">
    <legend class="sr-only">Schritt 2: Bedarf</legend>
    <div class="form-grid form-grid-2">
      <div class="field">
        <label for="verbrauch-gewerbe">Stromverbrauch/Jahr (kWh)*</label>
        <input id="verbrauch-gewerbe" name="verbrauch" type="number" min="10000" step="1000" placeholder="120000" required>
        <div class="err">Bitte realistischen Wert eingeben.</div>
      </div>
      <div class="field">
        <label for="speicher-gewerbe">Speicher gewünscht?*</label>
        <select id="speicher-gewerbe" name="speicher" required>
          <option>Ja, bitte anbieten</option>
          <option>Nein, nicht benötigt</option>
          <option>Unsicher, bitte beraten</option>
        </select>
      </div>
      <div class="field" style="grid-column:1/-1">
        <label for="wallbox-gewerbe">Ladeinfrastruktur? (optional)</label>
        <select id="wallbox-gewerbe" name="wallbox">
          <option>Nein</option><option>Ja, einzelne Wallboxen</option>
        </select>
      </div>
    </div>
    <div class="form-actions">
      <button type="button" class="ao-btn ao-btn--ghost" data-nav="back">Zurück</button>
      <button type="button" class="ao-btn ao-btn--primary" data-nav="next">Weiter zu Schritt 3</button>
    </div>
  </fieldset>

  <!-- Schritt 3: Details -->
  <fieldset data-step="3" class="hide">
    <legend class="sr-only">Schritt 3: Details</legend>
    <div class="form-grid">
      <div class="field" style="grid-column:1/-1">
        <label for="hinweis-gewerbe">Hinweise, Ziele & Wünsche (optional)</label>
        <textarea id="hinweis-gewerbe" name="hinweis" placeholder="z. B. Trafostation vorhanden, gewünschte Hersteller, Amortisationsziel …"></textarea>
      </div>
    </div>
    <div class="form-actions">
      <button type="button" class="ao-btn ao-btn--ghost" data-nav="back">Zurück</button>
      <button type="button" class="ao-btn ao-btn--primary" data-nav="next">Weiter zum letzten Schritt</button>
    </div>
  </fieldset>

  <!-- Schritt 4: Kontakt -->
  <fieldset data-step="4" class="hide">
    <legend class="sr-only">Schritt 4: Kontakt</legend>
    <div class="form-grid form-grid-2">
      <div class="field">
        <label for="firma-gewerbe">Firma*</label>
        <input id="firma-gewerbe" name="firma" type="text" required>
        <div class="err">Bitte Firmennamen angeben.</div>
      </div>
      <div class="field">
        <label for="name-gewerbe">Ansprechpartner*</label>
        <input id="name-gewerbe" name="name" type="text" required>
        <div class="err">Bitte Namen angeben.</div>
      </div>
      <div class="field">
        <label for="email-gewerbe">E-Mail*</label>
        <input id="email-gewerbe" name="email" type="email" required>
        <div class="err">Bitte gültige E-Mail angeben.</div>
      </div>
      <div class="field">
        <label for="tel-gewerbe">Telefon (optional)</label>
        <input id="tel-gewerbe" name="tel" type="tel">
      </div>
      <div class="field" style="grid-column:1/-1">
        <label style="display:flex;gap:8px;align-items:center;margin-top:12px">
          <input id="consent_contact-gewerbe" name="consent_contact" type="checkbox" required style="width:auto;height:auto">
          <span>Ich stimme der Kontaktaufnahme per Telefon/E-Mail zur Angebotserstellung zu.*</span>
        </label>
        <div class="err" id="consent_err-gewerbe">Bitte zustimmen.</div>
        <div class="ao-muted" style="margin-top:8px">
          Details in unserer <a href="/datenschutz/">Datenschutzerklärung</a>.
        </div>
      </div>
    </div>
    <div class="sr-only" aria-hidden="true">
      <label>Ihre Website</label><input name="website" type="text" autocomplete="off" tabindex="-1">
    </div>
    <div class="form-actions">
      <button type="button" class="ao-btn ao-btn--ghost" data-nav="back">Zurück</button>
      <button type="submit" class="ao-btn ao-btn--primary">Kostenloses Angebot anfordern</button>
    </div>
  </fieldset>
</form>


            <div class="ao-success hide" aria-live="polite">
              <h3 style="font-size:24px">Vielen Dank! 🎉</h3>
              <p class="ao-muted">Wir haben Ihre Anfrage für Gewerbekunden erhalten. Wir melden uns zeitnah.</p>
              <p class="ao-muted"><strong>ALAB Energiesysteme, Mindelheim</strong></p>
            </div>
          </div>
        </div>
      </div>

      <aside class="ao-rail">
        <div class="ao-card trust-card">
          <img src="/assets/img/logo-alab.png" alt="ALAB Energiesysteme Logo">
          <p><strong>Persönliche Beratung</strong> vom regionalen Experten.</p>
          <div class="stars" aria-label="5 von 5 Sternen">★★★★★</div>
          <p class="ao-muted">"Top Beratung und saubere Arbeit. Klare Empfehlung!"</p>
          <hr style="border:0;border-top:1px solid var(--line);margin:20px 0">
        </div>

        <div class="ao-card" style="margin-top:24px;padding:24px" id="ao-faq">
          <h3>Häufige Fragen</h3>
          <details><summary>Wie schnell erhalte ich mein Angebot?</summary><div class="ao-muted">In der Regel innerhalb von 1–2 Werktagen.</div></details>
          <details><summary>Ist ein Speicher immer sinnvoll?</summary><div class="ao-muted">Kommt auf das Verbrauchsprofil an – wir zeigen die Wirtschaftlichkeit transparent.</div></details>
          <details><summary>Was kostet eine PV-Anlage 2025?</summary><div class="ao-muted">Abhängig von Größe, Komponenten, Dach & Optionen – wir bieten Festpreise.</div></details>
        </div>
      </aside>
    </div>
  </div>
</section>

<!-- JSON-LD LocalBusiness -->
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"LocalBusiness",
  "name":"ALAB Energiesysteme",
  "url":"{{ site.domain }}/",
  "telephone":"+49 8261 7597176",
  "address":{
    "@type":"PostalAddress",
    "streetAddress":"{{ site.address.street }}",
    "addressLocality":"{{ site.address.city }}",
    "postalCode":"{{ site.address.zip }}",
    "addressCountry":"DE"
  },
  "servesArea":[{"@type":"Place","name":"Mindelheim"},{"@type":"AdministrativeArea","name":"Unterallgäu"}],
  "description":"Fachbetrieb für Photovoltaik, Speicher und Ladelösungen in Mindelheim & Unterallgäu."
}
</script>

<!-- JSON-LD FAQ -->
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"FAQPage",
  "mainEntity":[
    {"@type":"Question","name":"Wie schnell erhalte ich mein Angebot?","acceptedAnswer":{"@type":"Answer","text":"In der Regel innerhalb von 1–2 Werktagen nach Dateneingang."}},
    {"@type":"Question","name":"Ist ein Speicher immer sinnvoll?","acceptedAnswer":{"@type":"Answer","text":"Ein Speicher erhöht den Eigenverbrauch. Ob er wirtschaftlich sinnvoll ist, hängt vom Profil ab – wir rechnen es transparent."}},
    {"@type":"Question","name":"Was kostet eine PV-Anlage 2025?","acceptedAnswer":{"@type":"Answer","text":"Die Kosten hängen von Größe, Komponenten, Dach und Optionen ab. Wir machen Festpreisangebote."}}
  ]
}
</script>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const root = document.getElementById('alab-offer');
  const MAKE_URL = "https://hook.eu2.make.com/yloo9gmjoxtsua7r2g5z6af9lqs0ei3y";
  if(!root) return;

  const heroImg = root.querySelector('.ao-hero-image img');
  const radios = root.querySelectorAll('input[name="kundentyp"]');
  const pw = document.getElementById('form-wrapper-privat');
  const gw = document.getElementById('form-wrapper-gewerbe');

  const heroStyles = {
    privat:{ src:'https://static.wixstatic.com/media/cac2b9_2e17ae1b597142d5b302be69dcf0a2e4~mv2.png', pos:'center bottom' },
    gewerbe:{ src:'https://static.wixstatic.com/media/cac2b9_ed6e12de4d74452a888d8659d2eb2ea5~mv2.png', pos:'center center' }
  };

  radios.forEach(r=>r.addEventListener('change', e=>{
    const t = e.target.value;
    pw.classList.toggle('hide', t!=='privat');
    gw.classList.toggle('hide', t!=='gewerbe');
    const s = heroStyles[t];
    if(heroImg && s){ heroImg.style.opacity=0; setTimeout(()=>{ heroImg.src=s.src; heroImg.style.objectPosition=s.pos; heroImg.onload=()=>heroImg.style.opacity=1; },300); }
    const form = document.querySelector(`#form-wrapper-${t} .ao-form`); if(form) resetFormState(form);
  }));

  function resetFormState(form){
    const steps = [...form.querySelectorAll('fieldset[data-step]')];
    const stepper = form.closest('.ao-form-card').querySelector('.ao-stepper');
    const ok = form.closest('.ao-form-card').querySelector('.ao-success');
    form.classList.remove('hide'); stepper?.classList.remove('hide'); ok?.classList.add('hide');
    steps.forEach((fs,i)=>{ fs.classList.toggle('hide', i!==0); fs.querySelectorAll('.field.has-error').forEach(f=>f.classList.remove('has-error')); });
    stepper?.querySelectorAll('[data-step-dot]').forEach((d,i)=>d.classList.toggle('is-active', i===0));
    location.hash = '#ao-form-anchor';
  }

  function setup(wrapperSel){
    const wrap = document.querySelector(wrapperSel); if(!wrap) return;
    const form = wrap.querySelector('.ao-form');
    const steps = [...form.querySelectorAll('fieldset[data-step]')];
    const stepper = wrap.querySelector('.ao-stepper');
    const dots = stepper ? [...stepper.querySelectorAll('[data-step-dot]')] : [];
    const ok = wrap.querySelector('.ao-success');
    let current = 1;

    function show(i){
      steps.forEach((fs,idx)=>fs.classList.toggle('hide',(idx+1)!==i));
      dots.forEach((d,idx)=>d.classList.toggle('is-active',(idx+1)===i));
      current = i; const y = document.getElementById('ao-form-anchor').offsetTop; scrollTo({top:y-20, behavior:'smooth'});
    }

    form.addEventListener('click', e=>{
      if(e.target.matches('[data-nav="next"]')){ if(validate(current)) show(current+1); }
      if(e.target.matches('[data-nav="back"]')){ show(Math.max(1,current-1)); }
    });

    const field = el=>el.closest('.field');
    const setErr = (inp, bad)=>{ const f = field(inp); if(f) f.classList.toggle('has-error', bad); };

    function validate(stepIdx){
      const fs = steps[stepIdx-1];
      const req = [...fs.querySelectorAll('[required]')];
      let ok = true;
      req.forEach(inp=>{
        let good = inp.type==='checkbox' ? inp.checked : inp.value.trim()!=='';
        if(good && inp.id.startsWith('plz-')) good = /^\d{5}$/.test(inp.value.trim());
        if(good && inp.type==='email') good = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(inp.value.trim());
        if(good && inp.id.startsWith('verbrauch-privat')) good = Number(inp.value)>=200;
        if(good && inp.id.startsWith('verbrauch-gewerbe')) good = Number(inp.value)>=10000;
        setErr(inp, !good); if(!good) ok = false;
      });
      return ok;
    }

    form.addEventListener('input', e=>{
      if(!e.target.hasAttribute('required')) return;
      let good = e.target.type==='checkbox' ? e.target.checked : e.target.value.trim()!=='';
      if(good && e.target.id.startsWith('plz-')) good = /^\d{5}$/.test(e.target.value.trim());
      if(good && e.target.type==='email') good = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.target.value.trim());
      setErr(e.target, !good);
    });

    form.addEventListener('submit', async e=>{
      e.preventDefault();
      if(!validate(steps.length)) return;
      if(form.querySelector('[name="website"]')?.value.trim()!=='') return; // Honeypot

      const btn = form.querySelector('button[type="submit"]');
      const txt = btn.textContent; btn.disabled = true; btn.textContent = 'Sende…';

      const fd = new FormData(form);
      const kundentyp = root.querySelector('input[name="kundentyp"]:checked')?.value || 'privat';
      fd.append('kundentyp', kundentyp);
      fd.append('source', kundentyp==='gewerbe' ? 'Gewerbe_Angebot_einholen' : 'Privat_Angebot_einholen');

      // GA4-Event (ohne PII)
      window.dataLayer = window.dataLayer || [];
      window.dataLayer.push({event:'offer_form_sent', form_location: kundentyp});

      try{
        await fetch(MAKE_URL, { method:'POST', body:fd });
        form.classList.add('hide'); stepper?.classList.add('hide'); ok?.classList.remove('hide');
        scrollTo({ top: form.closest('.ao-form-card').offsetTop - 20, behavior:'smooth' });
      }catch(err){
        console.error(err); btn.disabled=false; btn.textContent='erneut senden';
        alert('Senden fehlgeschlagen – bitte erneut versuchen.');
        setTimeout(()=>btn.textContent = txt, 2000);
      }
    });

    show(1);
  }

  setup('#form-wrapper-privat');
  setup('#form-wrapper-gewerbe');

  // initial
  const init = root.querySelector('input[name="kundentyp"]:checked')?.value || 'privat';
  if(init==='gewerbe'){ pw.classList.add('hide'); gw.classList.remove('hide'); if(heroImg){ heroImg.src = heroStyles.gewerbe.src; heroImg.style.objectPosition = heroStyles.gewerbe.pos; } }
  else { pw.classList.remove('hide'); gw.classList.add('hide'); if(heroImg){ heroImg.src = heroStyles.privat.src; heroImg.style.objectPosition = heroStyles.privat.pos; } }
});
</script>
